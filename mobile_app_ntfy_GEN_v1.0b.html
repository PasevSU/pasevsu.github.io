<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞ –º–æ–±–∏–ª–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è –≤ Home Assistant</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --background-color: #f5f7fa;
            --card-color: #ffffff;
            --text-color: #333333;
            --border-color: #dddddd;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
            --android-color: #3ddc84;
            --ios-color: #007aff;
        }
        
        .dark-mode {
            --primary-color: #5a8fd8;
            --secondary-color: #2a7bbf;
            --background-color: #1a1a1a;
            --card-color: #2d2d2d;
            --text-color: #e0e0e0;
            --border-color: #444444;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
            --android-color: #3ddc84;
            --ios-color: #007aff;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }
        
        .header-buttons {
            position: absolute;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .theme-toggle, .version-switch {
            background: var(--card-color);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text-color);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .theme-toggle {
            left: 0;
        }
        
        .version-switch {
            right: 0;
        }
        
        .theme-toggle:hover, .version-switch:hover {
            background: var(--primary-color);
            color: white;
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .description {
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .dark-mode .description {
            color: #aaa;
        }

        /* Info Banner Styles */
        .info-banner {
            background-color: var(--card-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .info-banner h3 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .info-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .info-content {
                grid-template-columns: 1fr;
            }
        }
        
        .info-section {
            margin-bottom: 15px;
        }
        
        .info-section h4 {
            margin: 0 0 10px 0;
            color: var(--secondary-color);
        }
        
        .info-section ul {
            padding-left: 20px;
            margin: 0;
        }
        
        .info-section li {
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .config-example {
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
            font-family: monospace;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .device-selector {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .device-option {
            flex: 1;
            max-width: 200px;
        }
        
        .device-radio {
            display: none;
        }
        
        .device-label {
            display: block;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--card-color);
        }
        
        .device-radio:checked + .device-label {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(74, 111, 165, 0.3);
        }
        
        .android-label {
            border-left: 4px solid var(--android-color);
        }
        
        .ios-label {
            border-left: 4px solid var(--ios-color);
        }
        
        .device-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .notification-type-selector {
            margin-bottom: 30px;
        }
        
        .type-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .type-btn {
            padding: 10px 20px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: var(--card-color);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .type-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .generator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .generator-container {
                grid-template-columns: 1fr;
            }
            
            .device-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .device-option {
                max-width: 100%;
            }
            
            .header-buttons {
                position: static;
                justify-content: space-between;
                margin-top: 15px;
            }
        }
        
        .form-section, .preview-section {
            background-color: var(--card-color);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            background-color: var(--card-color);
            color: var(--text-color);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
            font-family: monospace;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .checkbox-group input {
            width: auto;
            margin-right: 10px;
        }
        
        .actions-container {
            margin-top: 20px;
        }
        
        .action-item {
            background-color: #f9f9f9;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .dark-mode .action-item {
            background-color: #3a3a3a;
        }
        
        .action-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .action-title {
            font-weight: bold;
        }
        
        .remove-action {
            background-color: var(--error-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-android {
            background-color: var(--android-color);
            color: #000;
        }
        
        .btn-ios {
            background-color: var(--ios-color);
        }
        
        .preview-code {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: monospace;
            white-space: pre-wrap;
            margin-top: 15px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .hidden {
            display: none;
        }
        
        .optional-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
        }
        
        .required-field::after {
            content: " *";
            color: var(--error-color);
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom-color: var(--primary-color);
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .notification-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        @media (max-width: 1024px) {
            .notification-options {
                grid-template-columns: 1fr;
            }
        }

        .example-item {
            background-color: #f0f8ff;
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .dark-mode .example-item {
            background-color: #2a3a4a;
        }
        
        .example-item:hover {
            background-color: #e1f0ff;
        }
        
        .dark-mode .example-item:hover {
            background-color: #3a4a5a;
        }
        
        .example-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .example-description {
            color: #666;
            font-size: 0.9rem;
        }
        
        .dark-mode .example-description {
            color: #aaa;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-buttons">
                <button class="theme-toggle" id="theme-toggle">üåô –¢—ä–º–µ–Ω —Ä–µ–∂–∏–º</button>
                <a href="mobile_app_ntfy_GEN_v1.0e.html" class="version-switch">en English</a>
            </div>
            <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞ –º–æ–±–∏–ª–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è –≤ Home Assistant</h1>
            <p class="description">
                –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞ –º–æ–±–∏–ª–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è –≤ Home Assistant –∑–∞ Android –∏ iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
                –°—ä–∑–¥–∞–≤–∞–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ —Å –≤—Å–∏—á–∫–∏ –Ω–∞–ª–∏—á–Ω–∏ –æ–ø—Ü–∏–∏ –∑–∞ –∏–∑–≤–µ—Å—Ç–∏—è.
                –ó–∞ –æ—â–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∏ –ø–æ—Å–µ—Ç–µ—Ç–µ <a href="https://pasevsu.github.io" class="external-link" target="_blank" rel="noopener noreferrer">pasevsu.github.io</a>.
            </p>
        </header>

        <!-- –î–æ–±–∞–≤–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞ —Å–µ–∫—Ü–∏—è -->
        <div class="info-banner">
            <h3>–í–∞–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –º–æ–±–∏–ª–Ω–∏—Ç–µ –∏–∑–≤–µ—Å—Ç–∏—è</h3>
            <div class="info-content">
                <div class="info-section">
                    <h4>–û—Å–Ω–æ–≤–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                    <ul>
                        <li><strong>–ó–∞–≥–ª–∞–≤–∏–µ & –°—ä–æ–±—â–µ–Ω–∏–µ:</strong> –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞ –∑–∞ –≤—Å—è–∫–æ –∏–∑–≤–µ—Å—Ç–∏–µ</li>
                        <li><strong>–¶–µ–ª–µ–≤–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</strong> –°–ø–∏—Å—ä–∫ —Å ID-—Ç–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ—Å—Ç–∞–≤–µ—Ç–µ –ø—Ä–∞–∑–Ω–æ –∑–∞ –≤—Å–∏—á–∫–∏)</li>
                        <li><strong>Android –ö–∞–Ω–∞–ª:</strong> –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –∑–∞ Android - –æ–ø—Ä–µ–¥–µ–ª—è —Ç–∏–ø–∞ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</li>
                        <li><strong>–¢–∞–≥:</strong> –ì—Ä—É–ø–∏—Ä–∞ –∏–∑–≤–µ—Å—Ç–∏—è —Å –µ–¥–Ω–∞–∫—ä–≤ —Ç–∞–≥</li>
                    </ul>
                </div>
                
                <div class="info-section">
                    <h4>–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –æ–ø—Ü–∏–∏</h4>
                    <ul>
                        <li><strong>–¶–≤—è—Ç:</strong> –ê–∫—Ü–µ–Ω—Ç–µ–Ω —Ü–≤—è—Ç –∑–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</li>
                        <li><strong>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</strong> –û–ø—Ä–µ–¥–µ–ª—è –≤–∞–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</li>
                        <li><strong>–ó–∞–ª–µ–ø–≤–∞—â–∏ –∏–∑–≤–µ—Å—Ç–∏—è:</strong> –ù–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∑–∞—Ç–≤–æ—Ä–µ–Ω–∏</li>
                        <li><strong>–í–∏–±—Ä–∏—Ä–∞–Ω–µ:</strong> –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω —à–∞–±–ª–æ–Ω –∑–∞ –≤–∏–±—Ä–∏—Ä–∞–Ω–µ</li>
                        <li><strong>–ö–∞—Ä—Ç–∏–Ω–∫–∞ & –ò–∫–æ–Ω–∞:</strong> URL –∫—ä–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</li>
                        <li><strong>–ó–≤—É–∫:</strong> –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –∑–≤—É–∫ –∑–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</li>
                    </ul>
                </div>

                <div class="info-section">
                    <h4>–î–µ–π—Å—Ç–≤–∏—è (Action Buttons)</h4>
                    <ul>
                        <li><strong>–û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ URI:</strong> –û—Ç–≤–∞—Ä—è URL –≤ –±—Ä–∞—É–∑—ä—Ä</li>
                        <li><strong>–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞:</strong> –ò–∑–ø—ä–ª–Ω—è–≤–∞ Home Assistant —É—Å–ª—É–≥–∞</li>
                        <li><strong>–ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ:</strong> –ó–∞—Ç–≤–∞—Ä—è –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</li>
                    </ul>
                </div>

                <div class="info-section">
                    <h4>–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h4>
                    <ul>
                        <li><strong>Android:</strong> –ö–∞–Ω–∞–ª–∏, –≤–∞–∂–Ω–æ—Å—Ç, –≤–∏–¥–∏–º–æ—Å—Ç</li>
                        <li><strong>iOS:</strong> –ë—Ä–æ—è—á –Ω–∞ –±–∞–¥–∂, –∫—Ä–∏—Ç–∏—á–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è</li>
                        <li><strong>–ö—Ä–∏—Ç–∏—á–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è:</strong> –ó–∞ iOS - –º–∏–Ω–∞–≤–∞—Ç –ø—Ä–µ–∑ "–ù–µ –±–µ–∑–ø–æ–∫–æ–∏" —Ä–µ–∂–∏–º</li>
                    </ul>
                </div>

                <div class="info-section">
                    <h4>–°—ä–≤–µ—Ç–∏ –∑–∞ —É–ø–æ—Ç—Ä–µ–±–∞</h4>
                    <ul>
                        <li>–£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –º–æ–±–∏–ª–Ω–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Home Assistant –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–æ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–æ</li>
                        <li>–¢–µ—Å—Ç–≤–∞–π—Ç–µ –∏–∑–≤–µ—Å—Ç–∏—è—Ç–∞ —Å–∏ –ø—Ä–µ–¥–∏ –¥–∞ –≥–∏ –≤–∫–∞—Ä–∞—Ç–µ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</li>
                        <li>–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω–∏ –∫–∞–Ω–∞–ª–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ç–∏–ø–æ–≤–µ –∏–∑–≤–µ—Å—Ç–∏—è (Android)</li>
                        <li>–ö—Ä–∏—Ç–∏—á–Ω–∏—Ç–µ –∏–∑–≤–µ—Å—Ç–∏—è —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–∞–º–æ –∑–∞ –≤–∞–∂–Ω–∏ —Å—ä–±–∏—Ç–∏—è</li>
                    </ul>
                </div>

                <div class="info-section">
                    <h4>–ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ —É–ø–æ—Ç—Ä–µ–±–∏</h4>
                    <ul>
                        <li>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ Home Assistant –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</li>
                        <li>üö® –ê–ª–∞—Ä–º–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∑–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞</li>
                        <li>üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —É–º–Ω–∏—è –¥–æ–º —á—Ä–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è</li>
                        <li>üìä –°—Ç–∞—Ç—É—Å –æ—Ç—á–µ—Ç–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–µ–Ω–∑–æ—Ä–∏</li>
                        <li>üîê –°–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –¥–æ—Å—Ç—ä–ø</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="device-selector">
            <div class="device-option">
                <input type="radio" id="android" name="device" value="android" class="device-radio" checked>
                <label for="android" class="device-label android-label">
                    <div class="device-icon">ü§ñ</div>
                    <div class="device-name">Android</div>
                </label>
            </div>
            <div class="device-option">
                <input type="radio" id="ios" name="device" value="ios" class="device-radio">
                <label for="ios" class="device-label ios-label">
                    <div class="device-icon">üçé</div>
                    <div class="device-name">iOS</div>
                </label>
            </div>
        </div>

        <div class="notification-type-selector">
            <h2 class="section-title">–¢–∏–ø –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</h2>
            <div class="type-buttons">
                <button class="type-btn active" data-type="automation">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</button>
                <button class="type-btn" data-type="script">–°–∫—Ä–∏–ø—Ç</button>
            </div>
        </div>

        <div class="generator-container">
            <div class="form-section">
                <div class="tabs">
                    <div class="tab active" data-tab="basic">–û—Å–Ω–æ–≤–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    <div class="tab" data-tab="advanced">–†–∞–∑—à–∏—Ä–µ–Ω–∏ –æ–ø—Ü–∏–∏</div>
                    <div class="tab" data-tab="actions">–î–µ–π—Å—Ç–≤–∏—è</div>
                </div>
                
                <div class="tab-content active" id="basic-tab">
                    <h2 class="section-title">–û—Å–Ω–æ–≤–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</h2>
                    
                    <div class="form-group">
                        <label for="title" class="required-field">–ó–∞–≥–ª–∞–≤–∏–µ:</label>
                        <input type="text" id="title" placeholder="–ó–∞–≥–ª–∞–≤–∏–µ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="message" class="required-field">–°—ä–æ–±—â–µ–Ω–∏–µ:</label>
                        <textarea id="message" placeholder="–°—ä–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="target">–¶–µ–ª–µ–≤–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</label>
                        <input type="text" id="target" placeholder="—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ1, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ2 (–æ—Å—Ç–∞–≤–µ—Ç–µ –ø—Ä–∞–∑–Ω–æ –∑–∞ –≤—Å–∏—á–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)">
                        <small>–°–ø–∏—Å—ä–∫ —Å ID-—Ç–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è</small>
                    </div>
                    
                    <div class="optional-section">
                        <h3 class="section-title">–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –æ—Å–Ω–æ–≤–Ω–∏ –æ–ø—Ü–∏–∏</h3>
                        
                        <div class="notification-options">
                            <div class="form-group">
                                <label for="channel">Android –ö–∞–Ω–∞–ª:</label>
                                <input type="text" id="channel" placeholder="ID –Ω–∞ –∫–∞–Ω–∞–ª">
                                <small>–°–∞–º–æ –∑–∞ Android - –∫–∞–Ω–∞–ª –∑–∞ –∏–∑–≤–µ—Å—Ç–∏—è</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="tag">–¢–∞–≥:</label>
                                <input type="text" id="tag" placeholder="–¢–∞–≥ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ">
                                <small>–ì—Ä—É–ø–∏—Ä–∞ –∏–∑–≤–µ—Å—Ç–∏—è —Å –µ–¥–Ω–∞–∫—ä–≤ —Ç–∞–≥</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="color">–¶–≤—è—Ç:</label>
                                <input type="color" id="color" value="#4a6fa5">
                                <small>–ê–∫—Ü–µ–Ω—Ç–µ–Ω —Ü–≤—è—Ç –∑–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
                                <select id="priority">
                                    <option value="default">–°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω</option>
                                    <option value="min">–ú–∏–Ω–∏–º–∞–ª–µ–Ω</option>
                                    <option value="low">–ù–∏—Å—ä–∫</option>
                                    <option value="high">–í–∏—Å–æ–∫</option>
                                    <option value="max">–ú–∞–∫—Å–∏–º–∞–ª–µ–Ω</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="sticky">–ó–∞–ª–µ–ø–≤–∞—â–æ –∏–∑–≤–µ—Å—Ç–∏–µ:</label>
                                <select id="sticky">
                                    <option value="false">–ù–µ</option>
                                    <option value="true">–î–∞</option>
                                </select>
                                <small>–ò–∑–≤–µ—Å—Ç–∏–µ—Ç–æ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞—Ç–≤–æ—Ä–µ–Ω–æ</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="vibration">–®–∞–±–ª–æ–Ω –∑–∞ –≤–∏–±—Ä–∏—Ä–∞–Ω–µ:</label>
                                <input type="text" id="vibration" placeholder="100, 200, 100, 200">
                                <small>–ú–∏–ª–∏—Å–µ–∫—É–Ω–¥–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="advanced-tab">
                    <h2 class="section-title">–†–∞–∑—à–∏—Ä–µ–Ω–∏ –æ–ø—Ü–∏–∏ –∑–∞ –∏–∑–≤–µ—Å—Ç–∏—è</h2>
                    
                    <div class="notification-options">
                        <div class="form-group">
                            <label for="image">URL –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞:</label>
                            <input type="text" id="image" placeholder="https://example.com/image.jpg">
                            <small>URL –∫—ä–º –ø—Ä–∏–∫–∞—á–µ–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="icon">URL –Ω–∞ –∏–∫–æ–Ω–∞:</label>
                            <input type="text" id="icon" placeholder="https://example.com/icon.png">
                            <small>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ –∏–∫–æ–Ω–∞ –∑–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="sound">–ó–≤—É–∫:</label>
                            <select id="sound">
                                <option value="">–°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω</option>
                                <option value="alarm">–ê–ª–∞—Ä–º–∞</option>
                                <option value="alert">–°–∏–≥–Ω–∞–ª</option>
                                <option value="beep">–ë–∏–ø</option>
                                <option value="bell">–ö–∞–º–±–∞–Ω–∞</option>
                                <option value="chime">–ó–≤—ä–Ω—á–µ</option>
                                <option value="ding">–ó–≤—ä–Ω</option>
                                <option value="notification">–ò–∑–≤–µ—Å—Ç–∏–µ</option>
                                <option value="ringtone">–ó–≤—ä–Ω–µ—Ü</option>
                                <option value="custom">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="custom-sound-group" style="display: none;">
                            <label for="custom-sound">URL –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –∑–≤—É–∫:</label>
                            <input type="text" id="custom-sound" placeholder="https://example.com/sound.mp3">
                        </div>
                        
                        <div class="form-group">
                            <label for="click-action">URL –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–≤–∞–Ω–µ:</label>
                            <input type="text" id="click-action" placeholder="https://homeassistant.local">
                            <small>URL, –∫–æ–π—Ç–æ –¥–∞ —Å–µ –æ—Ç–≤–æ—Ä–∏ –ø—Ä–∏ –∫–ª–∏–∫–≤–∞–Ω–µ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="group">–ì—Ä—É–ø–∞:</label>
                            <input type="text" id="group" placeholder="–ò–º–µ –Ω–∞ –≥—Ä—É–ø–∞">
                            <small>–ì—Ä—É–ø–∏—Ä–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑–≤–µ—Å—Ç–∏—è –∑–∞–µ–¥–Ω–æ</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="ttl">–í—Ä–µ–º–µ –∑–∞ –∂–∏–≤–æ—Ç (—Å–µ–∫—É–Ω–¥–∏):</label>
                            <input type="number" id="ttl" placeholder="3600">
                            <small>–ö–æ–ª–∫–æ –¥—ä–ª–≥–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∂–∏–≤–µ–µ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="importance">–í–∞–∂–Ω–æ—Å—Ç (Android):</label>
                            <select id="importance">
                                <option value="default">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞</option>
                                <option value="min">–ú–∏–Ω–∏–º–∞–ª–Ω–∞</option>
                                <option value="low">–ù–∏—Å–∫–∞</option>
                                <option value="high">–í–∏—Å–æ–∫–∞</option>
                                <option value="max">–ú–∞–∫—Å–∏–º–∞–ª–Ω–∞</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="visibility">–í–∏–¥–∏–º–æ—Å—Ç (Android):</label>
                            <select id="visibility">
                                <option value="public">–ü—É–±–ª–∏—á–Ω–∞</option>
                                <option value="private">–ß–∞—Å—Ç–Ω–∞</option>
                                <option value="secret">–°–µ–∫—Ä–µ—Ç–Ω–∞</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="badge">–ë—Ä–æ–π –Ω–∞ –±–∞–¥–∂ (iOS):</label>
                            <input type="number" id="badge" placeholder="1">
                            <small>–ë—Ä–æ–π –Ω–∞ –±–∞–¥–∂ –∑–∞ –∏–∫–æ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ</small>
                        </div>
                    </div>
                    
                    <div class="optional-section">
                        <h3 class="section-title">–ö—Ä–∏—Ç–∏—á–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è (iOS)</h3>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="critical">
                            <label for="critical">–ê–∫—Ç–∏–≤–∏—Ä–∞–π –∫—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ</label>
                        </div>
                        
                        <div id="critical-options" style="display: none; margin-top: 15px;">
                            <div class="form-group">
                                <label for="critical-sound">–ó–≤—É–∫ –∑–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ:</label>
                                <input type="text" id="critical-sound" placeholder="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω" value="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω">
                                <small>–ò–º–µ –Ω–∞ –∑–≤—É–∫–∞ –∑–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="critical-volume">–°–∏–ª–∞ –Ω–∞ –∑–≤—É–∫–∞ –∑–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ:</label>
                                <input type="range" id="critical-volume" min="0" max="1" step="0.1" value="1">
                                <small>–ù–∏–≤–æ –Ω–∞ —Å–∏–ª–∞ –Ω–∞ –∑–≤—É–∫–∞ (0.0 –¥–æ 1.0)</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="actions-tab">
                    <h2 class="section-title">–ë—É—Ç–æ–Ω–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ</h2>
                    <p>–î–æ–±–∞–≤–µ—Ç–µ –±—É—Ç–æ–Ω–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ –∫—ä–º –≤–∞—à–µ—Ç–æ –∏–∑–≤–µ—Å—Ç–∏–µ</p>
                    
                    <div class="actions-container" id="actions-container">
                        <!-- –î–µ–π—Å—Ç–≤–∏—è—Ç–∞ —â–µ —Å–µ –¥–æ–±–∞–≤—è—Ç –¥–∏–Ω–∞–º–∏—á–Ω–æ —Ç—É–∫ -->
                    </div>
                    
                    <button type="button" class="btn" id="add-action">–î–æ–±–∞–≤–∏ –¥–µ–π—Å—Ç–≤–∏–µ</button>
                    
                    <div class="optional-section">
                        <h3 class="section-title">–û–ø—Ü–∏–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="action-uri">
                            <label for="action-uri">–î–µ–π—Å—Ç–≤–∏–µ –∑–∞ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ URI</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="action-service">
                            <label for="action-service">–î–µ–π—Å—Ç–≤–∏–µ –∑–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="action-remove">
                            <label for="action-remove">–î–µ–π—Å—Ç–≤–∏–µ –∑–∞ –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</label>
                        </div>
                    </div>
                </div>
                
                <div class="buttons-container" style="margin-top: 30px;">
                    <button type="button" class="btn btn-success" id="generate">–ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</button>
                    <button type="button" class="btn btn-secondary" id="reset">–ò–∑—á–∏—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞</button>
                </div>
            </div>
            
            <div class="preview-section">
                <h2 class="section-title">–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞</h2>
                
                <div class="form-group">
                    <label>–¢–∏–ø –Ω–∞ –∏–∑—Ö–æ–¥–∞:</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <button class="btn btn-android" id="show-automation">–ü–æ–∫–∞–∂–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</button>
                        <button class="btn btn-ios" id="show-script">–ü–æ–∫–∞–∂–∏ —Å–∫—Ä–∏–ø—Ç</button>
                    </div>
                </div>
                
                <div class="preview-code" id="preview">
                    –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ —â–µ —Å–µ –ø–æ—è–≤–∏ —Ç—É–∫ —Å–ª–µ–¥ –∫–∞—Ç–æ –∫–ª–∏–∫–Ω–µ—Ç–µ –Ω–∞ "–ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"
                </div>
                
                <div class="buttons-container" style="margin-top: 20px;">
                    <button type="button" class="btn" id="copy">–ö–æ–ø–∏—Ä–∞–π –≤ –∫–ª–∏–ø–±–æ—Ä–¥–∞</button>
                </div>
                
                <div class="examples-container" style="margin-top: 30px;">
                    <h2 class="section-title">–ë—ä—Ä–∑–∏ –ø—Ä–∏–º–µ—Ä–∏</h2>
                    
                    <div class="example-item" data-example="basic">
                        <div class="example-title">–û—Å–Ω–æ–≤–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ</div>
                        <div class="example-description">–ü—Ä–æ—Å—Ç–æ –∏–∑–≤–µ—Å—Ç–∏–µ —Å—ä—Å –∑–∞–≥–ª–∞–≤–∏–µ –∏ —Å—ä–æ–±—â–µ–Ω–∏–µ</div>
                    </div>
                    
                    <div class="example-item" data-example="action">
                        <div class="example-title">–ò–∑–≤–µ—Å—Ç–∏–µ —Å –¥–µ–π—Å—Ç–≤–∏—è</div>
                        <div class="example-description">–ò–∑–≤–µ—Å—Ç–∏–µ —Å –±—É—Ç–æ–Ω–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ</div>
                    </div>
                    
                    <div class="example-item" data-example="critical">
                        <div class="example-title">–ö—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ</div>
                        <div class="example-description">–ö—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ —Å—ä—Å –∑–≤—É–∫ –∏ –±–∞–¥–∂</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏
        const notificationOptions = {
            android: {
                channels: ["—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω", "–∞–ª–∞—Ä–º–∞", "–º–µ–¥–∏—è", "–æ–±–∞–∂–¥–∞–Ω–∏—è", "—Å–∏—Å—Ç–µ–º–∞"],
                sounds: ["—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω", "–∞–ª–∞—Ä–º–∞", "—Å–∏–≥–Ω–∞–ª", "–±–∏–ø", "–∫–∞–º–±–∞–Ω–∞", "–∑–≤—ä–Ω—á–µ", "–∑–≤—ä–Ω", "–∏–∑–≤–µ—Å—Ç–∏–µ", "–∑–≤—ä–Ω–µ—Ü"],
                priorities: ["min", "low", "default", "high", "max"],
                visibilities: ["public", "private", "secret"]
            },
            ios: {
                sounds: ["—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω", "–∞–ª–∞—Ä–º–∞", "—Å–∏–≥–Ω–∞–ª", "–±–∏–ø", "–∫–∞–º–±–∞–Ω–∞", "–∑–≤—ä–Ω—á–µ", "–∑–≤—ä–Ω", "–∏–∑–≤–µ—Å—Ç–∏–µ", "–∑–≤—ä–Ω–µ—Ü"],
                criticalSounds: ["—Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω", "–∞–ª–∞—Ä–º–∞", "—Å–∏—Ä–µ–Ω–∞"]
            }
        };

        let actionCounter = 0;
        let currentDevice = 'android';
        let currentType = 'automation';

        document.addEventListener('DOMContentLoaded', function() {
            // –ò–∑–±–æ—Ä –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            const deviceRadios = document.querySelectorAll('input[name="device"]');
            deviceRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    currentDevice = this.value;
                    updateDeviceSpecificOptions();
                });
            });

            // –ò–∑–±–æ—Ä –Ω–∞ —Ç–∏–ø –∏–∑–≤–µ—Å—Ç–∏–µ
            const typeButtons = document.querySelectorAll('.type-btn');
            typeButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    typeButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentType = this.getAttribute('data-type');
                });
            });

            // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –Ω–∞ —Ç–∞–±–æ–≤–µ—Ç–µ
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });

            // –ò–∑–±–æ—Ä –Ω–∞ –∑–≤—É–∫
            const soundSelect = document.getElementById('sound');
            const customSoundGroup = document.getElementById('custom-sound-group');
            
            soundSelect.addEventListener('change', function() {
                if (this.value === 'custom') {
                    customSoundGroup.style.display = 'block';
                } else {
                    customSoundGroup.style.display = 'none';
                }
            });

            // –ü—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è
            const criticalCheckbox = document.getElementById('critical');
            const criticalOptions = document.getElementById('critical-options');
            
            criticalCheckbox.addEventListener('change', function() {
                criticalOptions.style.display = this.checked ? 'block' : 'none';
            });

            // –î–µ–π—Å—Ç–≤–∏—è
            document.getElementById('add-action').addEventListener('click', addAction);

            // –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
            document.getElementById('generate').addEventListener('click', generateConfiguration);

            // –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞
            document.getElementById('reset').addEventListener('click', resetForm);

            // –ö–æ–ø–∏—Ä–∞–Ω–µ –≤ –∫–ª–∏–ø–±–æ—Ä–¥–∞
            document.getElementById('copy').addEventListener('click', copyToClipboard);

            // –ë—É—Ç–æ–Ω–∏ –∑–∞ —Ç–∏–ø –Ω–∞ –∏–∑—Ö–æ–¥–∞
            document.getElementById('show-automation').addEventListener('click', function() {
                generateConfiguration('automation');
            });
            
            document.getElementById('show-script').addEventListener('click', function() {
                generateConfiguration('script');
            });

            // –ü—Ä–∏–º–µ—Ä–∏
            const exampleItems = document.querySelectorAll('.example-item');
            exampleItems.forEach(item => {
                item.addEventListener('click', function() {
                    const exampleId = this.getAttribute('data-example');
                    loadExample(exampleId);
                });
            });

            // –ü—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ —Ç—ä–º–µ–Ω —Ä–µ–∂–∏–º
            document.getElementById('theme-toggle').addEventListener('click', toggleDarkMode);

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateDeviceSpecificOptions();
        });

        function updateDeviceSpecificOptions() {
            // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ–ø—Ü–∏–∏—Ç–µ —Å–ø–æ—Ä–µ–¥ –∏–∑–±—Ä–∞–Ω–æ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            const importanceSelect = document.getElementById('importance');
            const visibilitySelect = document.getElementById('visibility');
            
            if (currentDevice === 'android') {
                importanceSelect.disabled = false;
                visibilitySelect.disabled = false;
            } else {
                importanceSelect.disabled = true;
                visibilitySelect.disabled = true;
            }
        }

        function addAction() {
            actionCounter++;
            const actionId = `action-${actionCounter}`;
            
            const actionItem = document.createElement('div');
            actionItem.className = 'action-item';
            actionItem.id = actionId;
            
            actionItem.innerHTML = `
                <div class="action-header">
                    <div class="action-title">–î–µ–π—Å—Ç–≤–∏–µ ${actionCounter}</div>
                    <button type="button" class="remove-action" data-action="${actionId}">–ü—Ä–µ–º–∞—Ö–Ω–∏</button>
                </div>
                <div class="form-group">
                    <label for="${actionId}-title">–ó–∞–≥–ª–∞–≤–∏–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ:</label>
                    <input type="text" id="${actionId}-title" placeholder="–¢–µ–∫—Å—Ç –Ω–∞ –±—É—Ç–æ–Ω–∞ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ">
                </div>
                <div class="form-group">
                    <label for="${actionId}-action">–¢–∏–ø –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ:</label>
                    <select id="${actionId}-action" class="action-type-select">
                        <option value="URI">–û—Ç–≤–æ—Ä–∏ URI</option>
                        <option value="SERVICE">–ò–∑–≤–∏–∫–∞–π —É—Å–ª—É–≥–∞</option>
                        <option value="REMOVE">–ü—Ä–µ–º–∞—Ö–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏–µ—Ç–æ</option>
                    </select>
                </div>
                <div class="form-group uri-option">
                    <label for="${actionId}-uri">URI:</label>
                    <input type="text" id="${actionId}-uri" placeholder="https://example.com">
                </div>
                <div class="form-group service-option" style="display: none;">
                    <label for="${actionId}-service">–£—Å–ª—É–≥–∞:</label>
                    <input type="text" id="${actionId}-service" placeholder="light.turn_on">
                </div>
                <div class="form-group service-option" style="display: none;">
                    <label for="${actionId}-service-data">–î–∞–Ω–Ω–∏ –∑–∞ —É—Å–ª—É–≥–∞—Ç–∞:</label>
                    <textarea id="${actionId}-service-data" placeholder='{"entity_id": "light.living_room"}'></textarea>
                </div>
            `;
            
            document.getElementById('actions-container').appendChild(actionItem);
            
            // –°—ä–±–∏—Ç–∏–µ –∑–∞ –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ
            const removeButton = actionItem.querySelector('.remove-action');
            removeButton.addEventListener('click', function() {
                document.getElementById(this.getAttribute('data-action')).remove();
                updateActionTitles();
            });
            
            // –°—ä–±–∏—Ç–∏–µ –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ç–∏–ø–∞ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ
            const actionTypeSelect = actionItem.querySelector('.action-type-select');
            actionTypeSelect.addEventListener('change', function() {
                toggleActionFields(actionItem, this.value);
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ
            toggleActionFields(actionItem, 'URI');
        }

        function toggleActionFields(actionItem, actionType) {
            const uriFields = actionItem.querySelectorAll('.uri-option');
            const serviceFields = actionItem.querySelectorAll('.service-option');
            
            if (actionType === 'URI') {
                uriFields.forEach(field => field.style.display = 'block');
                serviceFields.forEach(field => field.style.display = 'none');
            } else if (actionType === 'SERVICE') {
                uriFields.forEach(field => field.style.display = 'none');
                serviceFields.forEach(field => field.style.display = 'block');
            } else if (actionType === 'REMOVE') {
                uriFields.forEach(field => field.style.display = 'none');
                serviceFields.forEach(field => field.style.display = 'none');
            }
        }

        function updateActionTitles() {
            const actionItems = document.querySelectorAll('.action-item');
            actionCounter = 0;
            
            actionItems.forEach((item, index) => {
                actionCounter++;
                const titleElement = item.querySelector('.action-title');
                if (titleElement) {
                    titleElement.textContent = `–î–µ–π—Å—Ç–≤–∏–µ ${actionCounter}`;
                }
            });
        }

        function getActions() {
            const actions = [];
            const actionItems = document.querySelectorAll('.action-item');
            
            actionItems.forEach(item => {
                const actionId = item.id;
                const title = document.getElementById(`${actionId}-title`).value;
                const actionType = document.getElementById(`${actionId}-action`).value;
                
                if (title) {
                    const action = {
                        action: title,
                        title: title
                    };
                    
                    if (actionType === 'URI') {
                        const uri = document.getElementById(`${actionId}-uri`).value;
                        if (uri) {
                            action.uri = uri;
                        }
                    } else if (actionType === 'SERVICE') {
                        const service = document.getElementById(`${actionId}-service`).value;
                        const serviceData = document.getElementById(`${actionId}-service-data`).value;
                        
                        if (service) {
                            action.service = service;
                            if (serviceData) {
                                try {
                                    action.data = JSON.parse(serviceData);
                                } catch (e) {
                                    console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ —É—Å–ª—É–≥–∞—Ç–∞:', e);
                                }
                            }
                        }
                    } else if (actionType === 'REMOVE') {
                        action.remove = true;
                    }
                    
                    actions.push(action);
                }
            });
            
            return actions;
        }

        function generateConfiguration(outputType = null) {
            const finalOutputType = outputType || currentType;
            const title = document.getElementById('title').value;
            const message = document.getElementById('message').value;
            const target = document.getElementById('target').value;
            
            if (!title || !message) {
                alert('–ú–æ–ª—è, –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ—Ç–∞: –ó–∞–≥–ª–∞–≤–∏–µ –∏ –°—ä–æ–±—â–µ–Ω–∏–µ');
                return;
            }
            
            // –í–∑–µ–º–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
            const data = {
                title: title,
                message: message,
                target: target ? target.split(',').map(t => t.trim()) : undefined,
                data: {}
            };
            
            // –û—Å–Ω–æ–≤–Ω–∏ –æ–ø—Ü–∏–∏
            const channel = document.getElementById('channel').value;
            const tag = document.getElementById('tag').value;
            const color = document.getElementById('color').value;
            const priority = document.getElementById('priority').value;
            const sticky = document.getElementById('sticky').value;
            const vibration = document.getElementById('vibration').value;
            
            if (channel) data.data.channel = channel;
            if (tag) data.data.tag = tag;
            if (color !== '#4a6fa5') data.data.color = color;
            if (priority !== 'default') data.data.priority = priority;
            if (sticky === 'true') data.data.sticky = true;
            if (vibration) data.data.vibration = vibration.split(',').map(v => parseInt(v.trim()));
            
            // –†–∞–∑—à–∏—Ä–µ–Ω–∏ –æ–ø—Ü–∏–∏
            const image = document.getElementById('image').value;
            const icon = document.getElementById('icon').value;
            const sound = document.getElementById('sound').value;
            const customSound = document.getElementById('custom-sound').value;
            const clickAction = document.getElementById('click-action').value;
            const group = document.getElementById('group').value;
            const ttl = document.getElementById('ttl').value;
            const importance = document.getElementById('importance').value;
            const visibility = document.getElementById('visibility').value;
            const badge = document.getElementById('badge').value;
            
            if (image) data.data.image = image;
            if (icon) data.data.icon = icon;
            if (sound === 'custom' && customSound) {
                data.data.sound = customSound;
            } else if (sound && sound !== 'default') {
                data.data.sound = sound;
            }
            if (clickAction) data.data.clickAction = clickAction;
            if (group) data.data.group = group;
            if (ttl) data.data.ttl = parseInt(ttl);
            if (importance !== 'default') data.data.importance = importance;
            if (visibility !== 'public') data.data.visibility = visibility;
            if (badge) data.data.badge = parseInt(badge);
            
            // –ö—Ä–∏—Ç–∏—á–Ω–∏ –∏–∑–≤–µ—Å—Ç–∏—è (iOS)
            const critical = document.getElementById('critical').checked;
            if (critical) {
                data.data.critical = 1;
                const criticalSound = document.getElementById('critical-sound').value;
                const criticalVolume = document.getElementById('critical-volume').value;
                
                if (criticalSound) data.data.criticalSound = criticalSound;
                if (criticalVolume !== '1') data.data.criticalVolume = parseFloat(criticalVolume);
            }
            
            // –î–µ–π—Å—Ç–≤–∏—è
            const actions = getActions();
            if (actions.length > 0) {
                data.data.actions = actions;
            }
            
            // –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–ø–æ—Ä–µ–¥ —Ç–∏–ø–∞ –Ω–∞ –∏–∑—Ö–æ–¥–∞
            let config = '';
            
            if (finalOutputType === 'automation') {
                config = generateAutomationConfig(data);
            } else {
                config = generateScriptConfig(data);
            }
            
            document.getElementById('preview').textContent = config;
        }

        function generateAutomationConfig(data) {
            let config = `alias: "–ò–∑–ø—Ä–∞—Ç–∏ –º–æ–±–∏–ª–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ"\n`;
            config += `description: "–ò–∑–ø—Ä–∞—Ç–∏ –∏–∑–≤–µ—Å—Ç–∏–µ –¥–æ –º–æ–±–∏–ª–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"\n`;
            config += `trigger:\n`;
            config += `  - platform: state\n`;
            config += `    entity_id: sensor.–Ω—è–∫–æ–π_—Å–µ–Ω–∑–æ—Ä\n`;
            config += `action:\n`;
            config += `  - service: notify.mobile_app_${currentDevice === 'android' ? 'android' : 'iphone'}\n`;
            config += `    data:\n`;
            config += `      title: "${data.title}"\n`;
            config += `      message: "${data.message}"\n`;
            
            if (data.target && data.target.length > 0) {
                config += `      target: ${JSON.stringify(data.target)}\n`;
            }
            
            if (Object.keys(data.data).length > 0) {
                config += `      data: ${JSON.stringify(data.data, null, 2).replace(/\n/g, '\n        ')}\n`;
            }
            
            return config;
        }

        function generateScriptConfig(data) {
            let config = `# –°–∫—Ä–∏–ø—Ç –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –º–æ–±–∏–ª–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ\n`;
            config += `send_notification:\n`;
            config += `  alias: "–ò–∑–ø—Ä–∞—Ç–∏ –º–æ–±–∏–ª–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ"\n`;
            config += `  sequence:\n`;
            config += `    - service: notify.mobile_app_${currentDevice === 'android' ? 'android' : 'iphone'}\n`;
            config += `      data:\n`;
            config += `        title: "${data.title}"\n`;
            config += `        message: "${data.message}"\n`;
            
            if (data.target && data.target.length > 0) {
                config += `        target: ${JSON.stringify(data.target)}\n`;
            }
            
            if (Object.keys(data.data).length > 0) {
                config += `        data: ${JSON.stringify(data.data, null, 2).replace(/\n/g, '\n          ')}\n`;
            }
            
            return config;
        }

        function resetForm() {
            if (confirm('–°–∏–≥—É—Ä–Ω–∏ –ª–∏ —Å—Ç–µ, —á–µ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—á–∏—Å—Ç–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∞?')) {
                document.querySelectorAll('input, select, textarea').forEach(element => {
                    if (element.type !== 'radio' && element.type !== 'button' && element.id !== 'color') {
                        if (element.type === 'checkbox') {
                            element.checked = false;
                        } else if (element.tagName === 'SELECT') {
                            element.selectedIndex = 0;
                        } else {
                            element.value = '';
                        }
                    }
                });
                
                // –ù—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Ü–≤–µ—Ç–∞ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è
                document.getElementById('color').value = '#4a6fa5';
                
                // –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è—Ç–∞
                document.getElementById('actions-container').innerHTML = '';
                actionCounter = 0;
                
                // –°–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–∏—Ç–µ —Å–µ–∫—Ü–∏–∏
                document.getElementById('critical-options').style.display = 'none';
                document.getElementById('custom-sound-group').style.display = 'none';
                
                // –ù—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–µ–≥–ª–µ–¥–∞
                document.getElementById('preview').textContent = '–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ —â–µ —Å–µ –ø–æ—è–≤–∏ —Ç—É–∫ —Å–ª–µ–¥ –∫–∞—Ç–æ –∫–ª–∏–∫–Ω–µ—Ç–µ –Ω–∞ "–ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"';
            }
        }

        function copyToClipboard() {
            const previewText = document.getElementById('preview').textContent;
            
            navigator.clipboard.writeText(previewText).then(function() {
                alert('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –µ –∫–æ–ø–∏—Ä–∞–Ω–∞ –≤ –∫–ª–∏–ø–±–æ—Ä–¥–∞!');
            }, function(err) {
                console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–∞–Ω–µ: ', err);
                alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–∞–Ω–µ –≤ –∫–ª–∏–ø–±–æ—Ä–¥–∞!');
            });
        }

        function loadExample(exampleId) {
            resetForm();
            
            switch(exampleId) {
                case 'basic':
                    document.getElementById('title').value = 'Home Assistant';
                    document.getElementById('message').value = '–¢–æ–≤–∞ –µ –æ—Å–Ω–æ–≤–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ –æ—Ç Home Assistant';
                    break;
                    
                case 'action':
                    document.getElementById('title').value = '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —É–º–Ω–∏—è –¥–æ–º';
                    document.getElementById('message').value = '–ö–∞–∫–≤–æ –±–∏—Ö—Ç–µ –∏—Å–∫–∞–ª–∏ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ?';
                    
                    addAction();
                    const action1 = document.querySelector('.action-item');
                    document.getElementById(`${action1.id}-title`).value = '–í–∫–ª—é—á–∏ —Å–≤–µ—Ç–ª–∏–Ω–∏—Ç–µ';
                    document.getElementById(`${action1.id}-action`).value = 'SERVICE';
                    document.getElementById(`${action1.id}-service`).value = 'light.turn_on';
                    document.getElementById(`${action1.id}-service-data`).value = '{"entity_id": "light.living_room"}';
                    
                    addAction();
                    const action2 = document.querySelectorAll('.action-item')[1];
                    document.getElementById(`${action2.id}-title`).value = '–û—Ç–≤–æ—Ä–∏ —Ç–∞–±–ª–æ—Ç–æ';
                    document.getElementById(`${action2.id}-action`).value = 'URI';
                    document.getElementById(`${action2.id}-uri`).value = 'https://homeassistant.local';
                    break;
                    
                case 'critical':
                    document.getElementById('title').value = '–°–ò–ì–£–†–ù–û–°–¢–ù–ê –¢–†–ï–í–û–ì–ê';
                    document.getElementById('message').value = '–î–≤–∏–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–∏—Ç–æ –ø—Ä–∏ –≤—Ö–æ–¥–Ω–∞—Ç–∞ –≤—Ä–∞—Ç–∞!';
                    document.getElementById('priority').value = 'high';
                    document.getElementById('critical').checked = true;
                    document.getElementById('critical-options').style.display = 'block';
                    document.getElementById('badge').value = '1';
                    break;
            }
            
            generateConfiguration();
        }

        function toggleDarkMode() {
            const body = document.body;
            const themeToggle = document.getElementById('theme-toggle');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
                themeToggle.textContent = '‚òÄÔ∏è –°–≤–µ—Ç—ä–ª —Ä–µ–∂–∏–º';
            } else {
                localStorage.setItem('darkMode', 'disabled');
                themeToggle.textContent = 'üåô –¢—ä–º–µ–Ω —Ä–µ–∂–∏–º';
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –∑–∞–ø–∞–∑–µ–Ω–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∞ —Ç–µ–º–∞
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('dark-mode');
            document.getElementById('theme-toggle').textContent = '‚òÄÔ∏è –°–≤–µ—Ç—ä–ª —Ä–µ–∂–∏–º';
        }
    </script>
</body>
</html>